<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Self-Role System Documentation | VitePress</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.DFTx90Kk.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DCe6Z7-9.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.gHCrp1QU.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Dgg8-8ov.js">
    <link rel="modulepreload" href="/assets/features_server-management_SELFROLE_DOCUMENTATION.md.B7DIbBmi.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>VitePress</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _features_server-management_SELFROLE_DOCUMENTATION" data-v-39a288b8><div><h1 id="self-role-system-documentation" tabindex="-1">Self-Role System Documentation <a class="header-anchor" href="#self-role-system-documentation" aria-label="Permalink to &quot;Self-Role System Documentation&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>The Self-Role System is a comprehensive Discord bot module that allows server administrators to create interactive role assignment messages using buttons. Users can easily assign and remove roles by clicking buttons, providing a modern alternative to reaction roles.</p><h2 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features&quot;">​</a></h2><h3 id="core-features" tabindex="-1">Core Features <a class="header-anchor" href="#core-features" aria-label="Permalink to &quot;Core Features&quot;">​</a></h3><ul><li><strong>Button-based Role Assignment</strong>: Modern UI using Discord buttons instead of reactions</li><li><strong>Multiple Self-Role Messages</strong>: Create unlimited self-role messages per server</li><li><strong>Customizable Embeds</strong>: Full control over title, description, and colors</li><li><strong>Role Management</strong>: Easy adding/removing of roles with visual customization</li><li><strong>Flexible Settings</strong>: Configure behavior per message</li></ul><h3 id="advanced-features" tabindex="-1">Advanced Features <a class="header-anchor" href="#advanced-features" aria-label="Permalink to &quot;Advanced Features&quot;">​</a></h3><ul><li><strong>Role Limits</strong>: Set maximum assignments per role or per user</li><li><strong>Role Conflicts</strong>: Prevent users from having conflicting roles</li><li><strong>Required Roles</strong>: Require users to have specific roles before assigning others</li><li><strong>Statistics Tracking</strong>: Detailed usage analytics and user interaction data</li><li><strong>Bulk Operations</strong>: Mass role assignment for administrators</li><li><strong>Data Export</strong>: Export configuration and statistics as JSON</li><li><strong>Auto Cleanup</strong>: Remove invalid/deleted roles automatically</li></ul><h3 id="templates" tabindex="-1">Templates <a class="header-anchor" href="#templates" aria-label="Permalink to &quot;Templates&quot;">​</a></h3><ul><li><strong>Gaming Roles</strong>: Pre-configured for gaming communities</li><li><strong>Notification Roles</strong>: For server announcements and updates</li><li><strong>Color Roles</strong>: Cosmetic username colors with conflict management</li><li><strong>Interest Roles</strong>: Community interest-based groupings</li><li><strong>Pronoun Roles</strong>: Inclusive pronoun selection</li><li><strong>Custom</strong>: Full customization from scratch</li></ul><h2 id="commands" tabindex="-1">Commands <a class="header-anchor" href="#commands" aria-label="Permalink to &quot;Commands&quot;">​</a></h2><h3 id="basic-commands-selfrole" tabindex="-1">Basic Commands (<code>/selfrole</code>) <a class="header-anchor" href="#basic-commands-selfrole" aria-label="Permalink to &quot;Basic Commands (`/selfrole`)&quot;">​</a></h3><h4 id="selfrole-create" tabindex="-1"><code>/selfrole create</code> <a class="header-anchor" href="#selfrole-create" aria-label="Permalink to &quot;`/selfrole create`&quot;">​</a></h4><p>Create a new self-role message.</p><ul><li><strong>channel</strong>: Target channel for the message</li><li><strong>title</strong>: Embed title (max 256 characters)</li><li><strong>description</strong>: Embed description (max 4096 characters)</li><li><strong>color</strong>: Hex color code (optional, default: #0099ff)</li></ul><h4 id="selfrole-add-role" tabindex="-1"><code>/selfrole add-role</code> <a class="header-anchor" href="#selfrole-add-role" aria-label="Permalink to &quot;`/selfrole add-role`&quot;">​</a></h4><p>Add a role to an existing self-role message.</p><ul><li><strong>message-id</strong>: ID of the self-role message</li><li><strong>role</strong>: Discord role to add</li><li><strong>label</strong>: Button text (max 80 characters)</li><li><strong>emoji</strong>: Button emoji (optional)</li><li><strong>style</strong>: Button style (Primary/Secondary/Success/Danger)</li><li><strong>description</strong>: Role description shown in embed (optional)</li><li><strong>position</strong>: Button position (0-24)</li></ul><h4 id="selfrole-remove-role" tabindex="-1"><code>/selfrole remove-role</code> <a class="header-anchor" href="#selfrole-remove-role" aria-label="Permalink to &quot;`/selfrole remove-role`&quot;">​</a></h4><p>Remove a role from a self-role message.</p><ul><li><strong>message-id</strong>: ID of the self-role message</li><li><strong>role</strong>: Discord role to remove</li></ul><h4 id="selfrole-edit" tabindex="-1"><code>/selfrole edit</code> <a class="header-anchor" href="#selfrole-edit" aria-label="Permalink to &quot;`/selfrole edit`&quot;">​</a></h4><p>Edit an existing self-role message.</p><ul><li><strong>message-id</strong>: ID of the self-role message</li><li><strong>title</strong>: New title (optional)</li><li><strong>description</strong>: New description (optional)</li><li><strong>color</strong>: New hex color (optional)</li></ul><h4 id="selfrole-settings" tabindex="-1"><code>/selfrole settings</code> <a class="header-anchor" href="#selfrole-settings" aria-label="Permalink to &quot;`/selfrole settings`&quot;">​</a></h4><p>Configure self-role message settings.</p><ul><li><strong>message-id</strong>: ID of the self-role message</li><li><strong>max-roles-per-user</strong>: Maximum roles per user (0 = unlimited)</li><li><strong>allow-role-removal</strong>: Allow users to remove roles</li><li><strong>ephemeral-response</strong>: Make responses private to user</li><li><strong>log-channel</strong>: Channel for logging role changes</li></ul><h4 id="selfrole-list" tabindex="-1"><code>/selfrole list</code> <a class="header-anchor" href="#selfrole-list" aria-label="Permalink to &quot;`/selfrole list`&quot;">​</a></h4><p>List all self-role messages in the server.</p><h4 id="selfrole-delete" tabindex="-1"><code>/selfrole delete</code> <a class="header-anchor" href="#selfrole-delete" aria-label="Permalink to &quot;`/selfrole delete`&quot;">​</a></h4><p>Delete a self-role message and its configuration.</p><ul><li><strong>message-id</strong>: ID of the self-role message to delete</li></ul><h4 id="selfrole-stats" tabindex="-1"><code>/selfrole stats</code> <a class="header-anchor" href="#selfrole-stats" aria-label="Permalink to &quot;`/selfrole stats`&quot;">​</a></h4><p>View usage statistics.</p><ul><li><strong>message-id</strong>: Specific message ID (optional, shows server-wide if omitted)</li></ul><h4 id="selfrole-cleanup" tabindex="-1"><code>/selfrole cleanup</code> <a class="header-anchor" href="#selfrole-cleanup" aria-label="Permalink to &quot;`/selfrole cleanup`&quot;">​</a></h4><p>Remove invalid/deleted roles from all self-role messages.</p><h3 id="advanced-commands-selfrole-advanced" tabindex="-1">Advanced Commands (<code>/selfrole-advanced</code>) <a class="header-anchor" href="#advanced-commands-selfrole-advanced" aria-label="Permalink to &quot;Advanced Commands (`/selfrole-advanced`)&quot;">​</a></h3><h4 id="selfrole-advanced-role-limits" tabindex="-1"><code>/selfrole-advanced role-limits</code> <a class="header-anchor" href="#selfrole-advanced-role-limits" aria-label="Permalink to &quot;`/selfrole-advanced role-limits`&quot;">​</a></h4><p>Set advanced limits for specific roles.</p><ul><li><strong>message-id</strong>: ID of the self-role message</li><li><strong>role</strong>: Role to configure</li><li><strong>max-assignments</strong>: Maximum users who can have this role</li><li><strong>required-role</strong>: Role required to assign this role</li></ul><h4 id="selfrole-advanced-role-conflicts" tabindex="-1"><code>/selfrole-advanced role-conflicts</code> <a class="header-anchor" href="#selfrole-advanced-role-conflicts" aria-label="Permalink to &quot;`/selfrole-advanced role-conflicts`&quot;">​</a></h4><p>Manage conflicting roles.</p><ul><li><strong>message-id</strong>: ID of the self-role message</li><li><strong>role</strong>: Primary role</li><li><strong>conflicting-role</strong>: Role that conflicts with primary</li><li><strong>action</strong>: Add or remove conflict</li></ul><h4 id="selfrole-advanced-reorder-roles" tabindex="-1"><code>/selfrole-advanced reorder-roles</code> <a class="header-anchor" href="#selfrole-advanced-reorder-roles" aria-label="Permalink to &quot;`/selfrole-advanced reorder-roles`&quot;">​</a></h4><p>Change button order.</p><ul><li><strong>message-id</strong>: ID of the self-role message</li><li><strong>role</strong>: Role to move</li><li><strong>new-position</strong>: New position (0-24)</li></ul><h4 id="selfrole-advanced-bulk-assign" tabindex="-1"><code>/selfrole-advanced bulk-assign</code> <a class="header-anchor" href="#selfrole-advanced-bulk-assign" aria-label="Permalink to &quot;`/selfrole-advanced bulk-assign`&quot;">​</a></h4><p>Mass assign roles to users (Administrator only).</p><ul><li><strong>message-id</strong>: ID of the self-role message</li><li><strong>role</strong>: Role to assign</li><li><strong>user-ids</strong>: Comma-separated user IDs</li></ul><h4 id="selfrole-advanced-export-data" tabindex="-1"><code>/selfrole-advanced export-data</code> <a class="header-anchor" href="#selfrole-advanced-export-data" aria-label="Permalink to &quot;`/selfrole-advanced export-data`&quot;">​</a></h4><p>Export configuration and statistics as JSON.</p><ul><li><strong>message-id</strong>: Specific message (optional, exports all if omitted)</li></ul><h4 id="selfrole-advanced-reset-stats" tabindex="-1"><code>/selfrole-advanced reset-stats</code> <a class="header-anchor" href="#selfrole-advanced-reset-stats" aria-label="Permalink to &quot;`/selfrole-advanced reset-stats`&quot;">​</a></h4><p>Reset statistics for a self-role message.</p><ul><li><strong>message-id</strong>: ID of the self-role message</li></ul><h3 id="setup-commands" tabindex="-1">Setup Commands <a class="header-anchor" href="#setup-commands" aria-label="Permalink to &quot;Setup Commands&quot;">​</a></h3><h4 id="selfrole-setup" tabindex="-1"><code>/selfrole-setup</code> <a class="header-anchor" href="#selfrole-setup" aria-label="Permalink to &quot;`/selfrole-setup`&quot;">​</a></h4><p>Quick setup wizard with templates.</p><ul><li><strong>channel</strong>: Target channel</li><li><strong>template</strong>: Pre-configured template</li><li><strong>title</strong>: Custom title (for custom template)</li><li><strong>description</strong>: Custom description (for custom template)</li></ul><h4 id="selfrole-help" tabindex="-1"><code>/selfrole-help</code> <a class="header-anchor" href="#selfrole-help" aria-label="Permalink to &quot;`/selfrole-help`&quot;">​</a></h4><p>Comprehensive help system.</p><ul><li><strong>topic</strong>: Specific help topic (optional)</li></ul><p>Available topics:</p><ul><li><code>getting-started</code>: Step-by-step setup guide</li><li><code>basic-commands</code>: Essential commands overview</li><li><code>advanced-features</code>: Advanced functionality</li><li><code>troubleshooting</code>: Common issues and solutions</li><li><code>best-practices</code>: Tips for effective usage</li><li><code>examples</code>: Real-world implementation examples</li></ul><h2 id="database-schema" tabindex="-1">Database Schema <a class="header-anchor" href="#database-schema" aria-label="Permalink to &quot;Database Schema&quot;">​</a></h2><p>The system uses MongoDB with the following structure:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  guildId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Discord server ID</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  messageId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String,         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Discord message ID (unique)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  channelId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String,         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Channel where message is posted</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String,             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Embed title</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Embed description</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String,             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Hex color code</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  roles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Array of role configurations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    roleId: String,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Discord role ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    roleName: String,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Role name (cached for performance)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    emoji: String,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Button emoji</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: String,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Button text</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    description: String,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Role description in embed</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style: String,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Button style</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    position: Number,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Button position</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    maxAssignments: Number,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Maximum users with this role</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    currentAssignments: Number, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Current assignment count</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    requiredRole: String,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Required role ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conflictingRoles: [String] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Array of conflicting role IDs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {                </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Message-level settings</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    maxRolesPerUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Number, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Max roles per user</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    allowRoleRemoval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Boolean, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Allow role removal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    requireConfirmation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Boolean, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Require confirmation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ephemeralResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Boolean, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Private responses</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    logChannel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Log channel ID</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    autoDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Auto-delete settings</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Boolean,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      deleteAfter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  statistics</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Usage statistics</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    totalInteractions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Number,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    uniqueUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      userId: String,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      interactions: Number,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      lastInteraction: Date</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    roleAssignments</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      roleId: String,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      assigned: Number,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      removed: Number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  createdBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {               </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Creator information</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    userId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  lastModified</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Last modification tracking</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    by</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      userId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Date</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="permission-requirements" tabindex="-1">Permission Requirements <a class="header-anchor" href="#permission-requirements" aria-label="Permalink to &quot;Permission Requirements&quot;">​</a></h2><h3 id="bot-permissions" tabindex="-1">Bot Permissions <a class="header-anchor" href="#bot-permissions" aria-label="Permalink to &quot;Bot Permissions&quot;">​</a></h3><ul><li><strong>Manage Roles</strong>: Required for role assignment/removal</li><li><strong>Send Messages</strong>: Required for creating self-role messages</li><li><strong>Embed Links</strong>: Required for rich embed messages</li><li><strong>Use External Emojis</strong>: Optional, for custom emojis in buttons</li></ul><h3 id="user-permissions" tabindex="-1">User Permissions <a class="header-anchor" href="#user-permissions" aria-label="Permalink to &quot;User Permissions&quot;">​</a></h3><ul><li><strong>Manage Guild</strong>: Required for all setup and configuration commands</li><li><strong>Administrator</strong>: Required for bulk operations and advanced features</li></ul><h3 id="role-hierarchy" tabindex="-1">Role Hierarchy <a class="header-anchor" href="#role-hierarchy" aria-label="Permalink to &quot;Role Hierarchy&quot;">​</a></h3><p>The bot&#39;s role must be higher than any roles it manages. Discord&#39;s role hierarchy prevents bots from managing roles higher than their own position.</p><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><h3 id="design-guidelines" tabindex="-1">Design Guidelines <a class="header-anchor" href="#design-guidelines" aria-label="Permalink to &quot;Design Guidelines&quot;">​</a></h3><ol><li><strong>Clear Labels</strong>: Use descriptive, concise button labels</li><li><strong>Logical Grouping</strong>: Group related roles together</li><li><strong>Visual Appeal</strong>: Use relevant emojis and consistent styling</li><li><strong>User-Friendly</strong>: Keep descriptions helpful but brief</li></ol><h3 id="configuration-best-practices" tabindex="-1">Configuration Best Practices <a class="header-anchor" href="#configuration-best-practices" aria-label="Permalink to &quot;Configuration Best Practices&quot;">​</a></h3><ol><li><strong>Role Limits</strong>: Set reasonable limits to prevent abuse</li><li><strong>Ephemeral Responses</strong>: Use private responses to reduce channel clutter</li><li><strong>Logging</strong>: Set up logging channels for moderation oversight</li><li><strong>Regular Cleanup</strong>: Periodically run cleanup to remove invalid roles</li><li><strong>Testing</strong>: Test functionality after major changes</li></ol><h3 id="security-considerations" tabindex="-1">Security Considerations <a class="header-anchor" href="#security-considerations" aria-label="Permalink to &quot;Security Considerations&quot;">​</a></h3><ol><li><strong>Role Permissions</strong>: Regularly audit role permissions</li><li><strong>Hierarchy Management</strong>: Maintain proper role hierarchy</li><li><strong>Access Control</strong>: Use required roles for sensitive access</li><li><strong>Monitoring</strong>: Monitor logs for unusual activity</li></ol><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><h3 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to &quot;Common Issues&quot;">​</a></h3><h4 id="permission-denied-errors" tabindex="-1">&quot;Permission denied&quot; errors <a class="header-anchor" href="#permission-denied-errors" aria-label="Permalink to &quot;&quot;Permission denied&quot; errors&quot;">​</a></h4><ul><li><strong>Cause</strong>: Bot lacks Manage Roles permission or role hierarchy issues</li><li><strong>Solution</strong>: Ensure bot has proper permissions and role position</li></ul><h4 id="buttons-not-responding" tabindex="-1">Buttons not responding <a class="header-anchor" href="#buttons-not-responding" aria-label="Permalink to &quot;Buttons not responding&quot;">​</a></h4><ul><li><strong>Cause</strong>: Bot offline, role deleted, or permission issues</li><li><strong>Solution</strong>: Check bot status, run cleanup command, verify permissions</li></ul><h4 id="role-not-found-errors" tabindex="-1">&quot;Role not found&quot; errors <a class="header-anchor" href="#role-not-found-errors" aria-label="Permalink to &quot;&quot;Role not found&quot; errors&quot;">​</a></h4><ul><li><strong>Cause</strong>: Role was deleted or renamed</li><li><strong>Solution</strong>: Use cleanup command or re-add the role</li></ul><h4 id="statistics-not-updating" tabindex="-1">Statistics not updating <a class="header-anchor" href="#statistics-not-updating" aria-label="Permalink to &quot;Statistics not updating&quot;">​</a></h4><ul><li><strong>Cause</strong>: Database connection issues or schema problems</li><li><strong>Solution</strong>: Check database connectivity and restart bot if needed</li></ul><h3 id="error-codes-and-solutions" tabindex="-1">Error Codes and Solutions <a class="header-anchor" href="#error-codes-and-solutions" aria-label="Permalink to &quot;Error Codes and Solutions&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Error</th><th>Cause</th><th>Solution</th></tr></thead><tbody><tr><td><code>50013</code></td><td>Missing permissions</td><td>Check bot role hierarchy and permissions</td></tr><tr><td><code>10011</code></td><td>Unknown role</td><td>Role was deleted, remove from self-role config</td></tr><tr><td><code>10008</code></td><td>Unknown message</td><td>Message was deleted, recreate self-role message</td></tr><tr><td><code>50035</code></td><td>Invalid form body</td><td>Check input validation (character limits, etc.)</td></tr></tbody></table><h2 id="api-integration" tabindex="-1">API Integration <a class="header-anchor" href="#api-integration" aria-label="Permalink to &quot;API Integration&quot;">​</a></h2><p>The self-role system can be extended with additional functionality:</p><h3 id="custom-event-handlers" tabindex="-1">Custom Event Handlers <a class="header-anchor" href="#custom-event-handlers" aria-label="Permalink to &quot;Custom Event Handlers&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Listen for role assignment events</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">client.selfRoleManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;roleAssigned&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">guildId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">roleId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Custom logic here</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">client.selfRoleManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;roleRemoved&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">guildId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">roleId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Custom logic here</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="database-queries" tabindex="-1">Database Queries <a class="header-anchor" href="#database-queries" aria-label="Permalink to &quot;Database Queries&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get all self-role messages for a guild</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> selfRoles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SelfRole.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ guildId: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;your-guild-id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get statistics for a specific message</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stats</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> selfRoleManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSelfRoleStats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(guildId, messageId);</span></span></code></pre></div><h2 id="migration-and-backup" tabindex="-1">Migration and Backup <a class="header-anchor" href="#migration-and-backup" aria-label="Permalink to &quot;Migration and Backup&quot;">​</a></h2><h3 id="exporting-data" tabindex="-1">Exporting Data <a class="header-anchor" href="#exporting-data" aria-label="Permalink to &quot;Exporting Data&quot;">​</a></h3><p>Use <code>/selfrole-advanced export-data</code> to export configurations as JSON files for backup purposes.</p><h3 id="importing-data" tabindex="-1">Importing Data <a class="header-anchor" href="#importing-data" aria-label="Permalink to &quot;Importing Data&quot;">​</a></h3><p>While direct import isn&#39;t available through commands, data can be restored by:</p><ol><li>Recreating self-role messages using the setup commands</li><li>Using the exported JSON as reference for configuration</li><li>Bulk operations for role assignments if needed</li></ol><h2 id="performance-considerations" tabindex="-1">Performance Considerations <a class="header-anchor" href="#performance-considerations" aria-label="Permalink to &quot;Performance Considerations&quot;">​</a></h2><h3 id="optimization-tips" tabindex="-1">Optimization Tips <a class="header-anchor" href="#optimization-tips" aria-label="Permalink to &quot;Optimization Tips&quot;">​</a></h3><ol><li><strong>Database Indexing</strong>: The schema includes optimized indexes for common queries</li><li><strong>Caching</strong>: Role names are cached to reduce API calls</li><li><strong>Bulk Operations</strong>: Use bulk assignment for large user bases</li><li><strong>Regular Cleanup</strong>: Remove unused configurations to improve performance</li></ol><h3 id="scaling" tabindex="-1">Scaling <a class="header-anchor" href="#scaling" aria-label="Permalink to &quot;Scaling&quot;">​</a></h3><ul><li>The system supports unlimited self-role messages per server</li><li>Each message supports up to 25 roles (Discord button limit)</li><li>Statistics are tracked efficiently with minimal performance impact</li><li>Database queries are optimized for large servers</li></ul><h2 id="support-and-updates" tabindex="-1">Support and Updates <a class="header-anchor" href="#support-and-updates" aria-label="Permalink to &quot;Support and Updates&quot;">​</a></h2><h3 id="getting-help" tabindex="-1">Getting Help <a class="header-anchor" href="#getting-help" aria-label="Permalink to &quot;Getting Help&quot;">​</a></h3><ol><li>Use <code>/selfrole-help</code> for built-in documentation</li><li>Check troubleshooting section for common issues</li><li>Review bot logs for detailed error information</li><li>Contact server administrators for permission-related issues</li></ol><h3 id="version-compatibility" tabindex="-1">Version Compatibility <a class="header-anchor" href="#version-compatibility" aria-label="Permalink to &quot;Version Compatibility&quot;">​</a></h3><ul><li>Compatible with Discord.js v14+</li><li>Requires MongoDB for data persistence</li><li>Node.js 16+ recommended for optimal performance</li></ul><p>This documentation covers the complete self-role system. For specific implementation details, refer to the source code and inline comments.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"commands.md\":\"DVA58sEg\",\"features_chatbot_module.md\":\"DcQYj5RC\",\"features_content-creation_cleanup_system.md\":\"CoTuBw28\",\"features_content-creation_embed_builder.md\":\"CojsaBUW\",\"features_moderation_modlog_documentation.md\":\"BFvhR9G5\",\"features_server-management_autorole_system.md\":\"ClQriET7\",\"features_server-management_selfrole_documentation.md\":\"B7DIbBmi\",\"features_server-management_tempvc_system.md\":\"DXzECuJT\",\"features_server-management_ticket_system_documentation.md\":\"DjwlF3h8\",\"features_server-management_welcome_system.md\":\"nzLALw1K\",\"getting-started_faq.md\":\"CSjOWjjj\",\"getting-started_features.md\":\"DH3nOqBE\",\"getting-started_setup_guide.md\":\"CmPqbXAI\",\"other_premium.md\":\"9ldDDCuX\",\"readme.md\":\"DXdRD3Rf\",\"ticket_quick_start.md\":\"uLNjMfuu\",\"utils_documentation.md\":\"DanrNggX\",\"welcome_custom_embeds_guide.md\":\"m4CITVMz\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>